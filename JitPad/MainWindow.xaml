<controls:BiaWindow x:Class="JitPad.MainWindow"
                    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:avalonedit="http://icsharpcode.net/sharpdevelop/avalonedit"
                    xmlns:b="http://schemas.microsoft.com/xaml/behaviors"
                    xmlns:behaviors="clr-namespace:JitPad.Behaviors"
                    xmlns:controls="clr-namespace:Biaui.Controls;assembly=Biaui"
                    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                    xmlns:jitPad="clr-namespace:JitPad"
                    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                    Drop="Window_Drop" PreviewDragOver="Window_PreviewDragOver"
                    AllowDrop="True"
                    Width="1400"
                    Height="1000"
                    d:DataContext="{d:DesignInstance jitPad:MainWindowViewModel}"
                    Style="{StaticResource BiaWindowDialogStyle}"
                    WindowStartupLocation="CenterScreen"
                    mc:Ignorable="d">
    <Grid Margin="12,12,12,12">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <DockPanel Grid.Row="0"
                   Grid.Column="0"
                   Grid.ColumnSpan="3"
                   Margin="0,0,0,12"
                   WindowChrome.IsHitTestVisibleInChrome="True">
            <controls:BiaToggleButton HorizontalAlignment="Left"
                                      Content="File monitoring"
                                      IsChecked="{Binding IsFileMonitoring.Value, Mode=TwoWay}" />

            <controls:BiaTextBox Width="320"
                                 HorizontalAlignment="Left"
                                 Text="{Binding MonitoringFilePath.Value, Mode=TwoWay}" />

            <controls:BiaToggleSwitch Margin="12,0,0,0"
                                      HorizontalAlignment="Left"
                                      DisabledLabel="Debug"
                                      EnabledLabel="Release"
                                      IsChecked="{Binding IeReleaseBuild.Value, Mode=TwoWay}" />
        </DockPanel>

        <GridSplitter Grid.Row="1"
                      Grid.Column="1"
                      Width="8"
                      Margin="8,0"
                      ResizeDirection="Columns" />

        <avalonedit:TextEditor Grid.Row="1"
                               Grid.Column="0"
                               SyntaxHighlighting="C#">
            <b:Interaction.Behaviors>
                <behaviors:TextEditorBehavior Text="{Binding PrimarySourceText.Value, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
            </b:Interaction.Behaviors>
        </avalonedit:TextEditor>

        <avalonedit:TextEditor Grid.Row="1"
                               Grid.Column="2"
                               IsReadOnly="True"
                               ShowLineNumbers="False"
                               WordWrap="True">
            <b:Interaction.Behaviors>
                <behaviors:TextEditorBehavior Text="{Binding PrimaryResult.Value, Mode=OneWay}" />
            </b:Interaction.Behaviors>

            <avalonedit:TextEditor.Style>
                <Style BasedOn="{StaticResource {x:Type avalonedit:TextEditor}}" TargetType="avalonedit:TextEditor">
                    <Setter Property="Visibility" Value="Hidden" />

                    <Style.Triggers>
                        <DataTrigger Binding="{Binding PrimaryIsOk.Value, Mode=OneWay}" Value="True">
                            <Setter Property="Visibility" Value="Visible" />
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </avalonedit:TextEditor.Style>
        </avalonedit:TextEditor>

        <avalonedit:TextEditor Grid.Row="1"
                               Grid.Column="2"
                               IsReadOnly="True"
                               ShowLineNumbers="False"
                               WordWrap="True">
            <b:Interaction.Behaviors>
                <behaviors:TextEditorBehavior Text="{Binding PrimaryMessage.Value, Mode=OneWay}" />
            </b:Interaction.Behaviors>

            <avalonedit:TextEditor.Style>
                <Style BasedOn="{StaticResource {x:Type avalonedit:TextEditor}}" TargetType="avalonedit:TextEditor">
                    <Setter Property="Visibility" Value="Visible" />

                    <Style.Triggers>
                        <DataTrigger Binding="{Binding PrimaryIsOk.Value, Mode=OneWay}" Value="True">
                            <Setter Property="Visibility" Value="Hidden" />
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </avalonedit:TextEditor.Style>
        </avalonedit:TextEditor>
    </Grid>
</controls:BiaWindow>